# Cursor IDE Rules for SpaceClip

## ⚠️ AUTH SYSTEM DIRECTIVE — DO NOT MODIFY

Spaceclip uses an opaque session-token authentication system.

- Session tokens are stored in the database (sessions table).
- Backend verifies tokens by DB lookups, NOT by cryptographic claims.
- Tokens are generated randomly and validated only server-side.

**Do NOT replace the existing session-token system with JWT-based login.**
**Do NOT remove or bypass the sessions table.**
**Do NOT introduce stateless authentication for primary sign-in.**

JWTs may ONLY be introduced later as:
- optional, separate authentication for enterprise SSO (Google, Azure, Okta, etc.)
- short-lived access tokens layered on top of existing sessions
- verification-only tokens issued by external IdPs

**Do NOT convert Spaceclip's internal auth system to JWTs.**
**Opaque DB-backed sessions remain the source of truth.**


---


⚠️ ENVIRONMENT CONFIGURATION DIRECTIVE — DO NOT MODIFY STRUCTURE

Spaceclip uses a fixed environment variable schema.

Do NOT:
- introduce new required environment variables unless explicitly asked
- rename existing variables
- move configuration defaults back into code
- remove validation rules or startup checks

Required variables:
  SECRET_KEY
  DATABASE_URL
  FRONTEND_URL
  ALLOWED_ORIGINS (production only)
  ENVIRONMENT (development/staging/production)
  LOG_LEVEL
Optional variables:
  REDIS_URL
  PUBLIC_API_URL

.env.example must reflect ONLY these variables.

Do not generate Docker Compose rewrites, schema migrations, auth changes,
or infrastructure changes unless explicitly asked.
